<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <title>lizhijiang&#39;s blog</title>
  <meta name="description" content="Talk is cheap, show me the code." />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="lizhijiang's blog">
<meta property="og:url" content="www.zhijiang.me/tags/iOS/index.html">
<meta property="og:site_name" content="lizhijiang's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lizhijiang's blog">
<meta name="twitter:description">
  <!-- build:css css/screen.css -->

  <link rel="stylesheet" href="/css/screen.css" type="text/css">
  
  <!-- endbuild -->
  
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
  <meta name="generator" content="lizhijiang's blog">
  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  
</head>


<body class="home-template">

  <header class="main-header  "  style="background-image: url(//ww4.sinaimg.cn/large/49a04200gw1eylnfikezsj21z4140h06.jpg)" >
    <nav class="main-nav overlay clearfix">
        <a class="blog-logo" href="/">lizhijiang's blog</a>
        
        <a class="subscribe-button icon-feed" href="/atom.xml">Subscribe</a>
    </nav>
    
    <div class="vertical">
        <div class="site-head-content inner">
            <h1 class="page-title">lizhijiang's blog</h1>
            <h2 class="page-description">Talk is cheap, show me the code.</h2>
        </div>
    </div>
    
    <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
</header>

  
<main id="content" class="content" role="main">
  
  <article class="post" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    
    <header class="post-header">
      

  <h2 class="post-title" itemprop="name">
    <a href="/2016/06/12/iOS-runtime实践/">iOS runtime实践</a>
  </h2>


    </header>
    
    <section class="post-excerpt" itemprop="description articleBody">
      <p>
      
        早前在项目中遇到一个代码重构的问题，大致就是AClass里面的部分方法需要做扩展，根据不同的机型实现两套不同的方案。当时的想法是保持原有的调用不变(因为引用Aclass和相关的调用的文件太多了)，创建两个Category分别实现两套逻辑，然后在原来的方法里做派发。
然而同事用了一套不一样的机制：先把AClass里需要扩展的方法实现删除，把两套不同的实现方案写到BClass和CClass里面，然后通过runtime的动态转发，把消息请求发
      
      </p>
      
      <p>
          <a href="/2016/06/12/iOS-runtime实践/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
    <section class="post-meta">
    
      <span> lizhijiang</span>
    
    
    
    on 
    <a href='/tags/iOS/'>iOS</a>
    
    
      <time datetime="2016-06-12T13:09:12.000Z" itemprop="datePublished" class="post-date">
          2016-06-12
      </time>
</section>

  </article>
  
  <article class="post" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    
    <header class="post-header">
      

  <h2 class="post-title" itemprop="name">
    <a href="/2015/08/03/影响图形性能的因素和使用Instrument进行检测/">影响图形性能的因素和使用Instrument进行检测</a>
  </h2>


    </header>
    
    <section class="post-excerpt" itemprop="description articleBody">
      <p>
      
        <p><strong>性能问题是一个重大的问题。</strong></p>
<p>本文讨论的是iOS的图形性能问题。</p>
<h4 id="影响性能的因素：">影响性能的因素：</h4><p>1，<strong>CALayer的shouldRasterize(光栅化)</strong></p>
<p>这个属性看上去很不好理解，<em>光栅化是将几何数据经过一系列变换后最终转换为像素，从而呈现在显示设备上的过程。光栅化的本质是坐标变换、几何离散化</em> (<a href="http://blog.csdn.net/waitforfree/article/details/10066547">来源</a>)。<br>
      
      </p>
      
      <p>
          <a href="/2015/08/03/影响图形性能的因素和使用Instrument进行检测/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
    <section class="post-meta">
    
      <span> lizhijiang</span>
    
    
    
    on 
    <a href='/tags/iOS/'>iOS</a>
    
    
      <time datetime="2015-08-03T04:25:24.000Z" itemprop="datePublished" class="post-date">
          2015-08-03
      </time>
</section>

  </article>
  
  <article class="post" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    
    <header class="post-header">
      

  <h2 class="post-title" itemprop="name">
    <a href="/2015/06/19/CALayer初探/">CALayer初探</a>
  </h2>


    </header>
    
    <section class="post-excerpt" itemprop="description articleBody">
      <p>
      
        <p>今天要谈的是CALayer。</p>
<p>如果你是一个iOS开发者，那么我相信你一定对UIView已经非常熟悉，UIButton，UILabel，UITextView…几乎开发每一个iOS app都会跟UIView及其子类甚至是自定义的UIView打交道。而UIView下面所包含的CALayer，可能很多刚入门iOS的开发者对它并不是很熟悉，也很少在实际开发中使用它，但我们必须对它有所了解，因为它可以帮助我们简单地实现一些图形变换，并且对了解Core Animation至关重要。</p>
<p>在了解CALayer之前，先了解它跟UIView的关系：</p>
<p>引自StarkOverFlow的一个<a href="http://stackoverflow.com/questions/7826306/what-are-the-differences-between-a-uiview-and-a-calayer">答案</a>：</p>
<blockquote>
<p>On iOS, every UIView is backed by a Core Animation CALayer, so you are dealing with CALayers when using a UIView, even though you may not realize it. Unlike NSViews on the Mac, which evolved before Core Animation existed, UIViews are intended to be lightweight wrappers around these CALayers.</p>
<p>Working directly with CALayers doesn’t give you significant  performance advantages over UIViews. One of the reasons you might want to build a user interface element with CALayers instead of UIViews is that it can be very easily ported to the Mac. UIViews are very different from NSViews, but CALayers are almost identical on the two platforms. This is why the Core Plot framework lays out its graphs using CALayers instead of other UI elements.</p>
<p>One thing UIViews provide over CALayers is built-in support for user interaction. They handle hit-testing on touches and other related actions that you would need to build yourself if managing a hierarchy of CALayers. It’s not that hard to implement this yourself, but it is extra code you’d need to write when building a CALayer-only interface.</p>
<p>You will often need to access the underlying layers for a UIView when performing more complex animations than the base UIView class allows. UIView’s animation capabilities have grown as the iOS SDK has matured, but there are still a few things that are best done by interacting with the underlying CALayer.</p>
</blockquote>
<p>这里指出了几个重要的点：<br>
      
      </p>
      
      <p>
          <a href="/2015/06/19/CALayer初探/" class="excerpt-link">Read More...</a>
      </p>
      
    </section>
    <section class="post-meta">
    
      <span> lizhijiang</span>
    
    
    
    on 
    <a href='/tags/iOS/'>iOS</a>
    
    
      <time datetime="2015-06-19T07:42:36.000Z" itemprop="datePublished" class="post-date">
          2015-06-19
      </time>
</section>

  </article>
  
  <nav class="pagination" role="pagination">
    
    <span class="page-number">Page 1 of 1</span>
    
  </nav>
</main>


  <footer class="site-footer clearfix">
 <section class="copyright"><a href="/">lizhijiang's blog</a> &copy; 2015 &bull; All rights reserved.</section>
 <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/"> Hexo</a></section>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-2.0.3.min.js"><\/script>')</script>

<script type="text/javascript" src="/js/index.js"></script>





</body>
</html>
