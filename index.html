<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>lizhijiang&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="lizhijiang's blog">
<meta property="og:url" content="www.zhijiang.me/index.html">
<meta property="og:site_name" content="lizhijiang's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lizhijiang's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="lizhijiang&#39;s blog" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars2.githubusercontent.com/u/2455800?v=3&amp;s=460" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">lizhijiang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Talk is cheap, show me the product.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">归档</a></li>
				        
							<li><a href="/instagram">相册</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/lizhijiang" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://www.weibo.com/zhijianglee" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 10px;">Android</a><a href="/tags/Tools/" style="font-size: 10px;">Tools</a><a href="/tags/iOS/" style="font-size: 20px;">iOS</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">行业很浮夸，我想低调些</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">lizhijiang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars2.githubusercontent.com/u/2455800?v=3&amp;s=460" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">lizhijiang</h1>
			</hgroup>
			
			<p class="header-subtitle">Talk is cheap, show me the product.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">归档</a></li>
		        
					<li><a href="/instagram">相册</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/lizhijiang" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://www.weibo.com/zhijianglee" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-影响图形性能的因素和使用Instrument进行检测" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/影响图形性能的因素和使用Instrument进行检测/" class="article-date">
  	<time datetime="2015-08-03T04:25:24.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/影响图形性能的因素和使用Instrument进行检测/">影响图形性能的因素和使用Instrument进行检测</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>性能问题是一个重大的问题。</strong></p>
<p>本文讨论的是iOS的图形性能问题。</p>
<h4 id="影响性能的因素：">影响性能的因素：</h4><p>1，<strong>CALayer的shouldRasterize(光栅化)</strong></p>
<p>这个属性看上去很不好理解，<em>光栅化是将几何数据经过一系列变换后最终转换为像素，从而呈现在显示设备上的过程。光栅化的本质是坐标变换、几何离散化</em> (<a href="http://blog.csdn.net/waitforfree/article/details/10066547">来源</a>)。<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/08/03/影响图形性能的因素和使用Instrument进行检测/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-CALayer初探" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/19/CALayer初探/" class="article-date">
  	<time datetime="2015-06-19T07:42:36.000Z" itemprop="datePublished">2015-06-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/19/CALayer初探/">CALayer初探</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天要谈的是CALayer。</p>
<p>如果你是一个iOS开发者，那么我相信你一定对UIView已经非常熟悉，UIButton，UILabel，UITextView…几乎开发每一个iOS app都会跟UIView及其子类甚至是自定义的UIView打交道。而UIView下面所包含的CALayer，可能很多刚入门iOS的开发者对它并不是很熟悉，也很少在实际开发中使用它，但我们必须对它有所了解，因为它可以帮助我们简单地实现一些图形变换，并且对了解Core Animation至关重要。</p>
<p>在了解CALayer之前，先了解它跟UIView的关系：</p>
<p>引自StarkOverFlow的一个<a href="http://stackoverflow.com/questions/7826306/what-are-the-differences-between-a-uiview-and-a-calayer">答案</a>：</p>
<blockquote>
<p>On iOS, every UIView is backed by a Core Animation CALayer, so you are dealing with CALayers when using a UIView, even though you may not realize it. Unlike NSViews on the Mac, which evolved before Core Animation existed, UIViews are intended to be lightweight wrappers around these CALayers.</p>
<p>Working directly with CALayers doesn’t give you significant  performance advantages over UIViews. One of the reasons you might want to build a user interface element with CALayers instead of UIViews is that it can be very easily ported to the Mac. UIViews are very different from NSViews, but CALayers are almost identical on the two platforms. This is why the Core Plot framework lays out its graphs using CALayers instead of other UI elements.</p>
<p>One thing UIViews provide over CALayers is built-in support for user interaction. They handle hit-testing on touches and other related actions that you would need to build yourself if managing a hierarchy of CALayers. It’s not that hard to implement this yourself, but it is extra code you’d need to write when building a CALayer-only interface.</p>
<p>You will often need to access the underlying layers for a UIView when performing more complex animations than the base UIView class allows. UIView’s animation capabilities have grown as the iOS SDK has matured, but there are still a few things that are best done by interacting with the underlying CALayer.</p>
</blockquote>
<p>这里指出了几个重要的点：<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/06/19/CALayer初探/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-使用MacVim代替系统内置Vim" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/07/使用MacVim代替系统内置Vim/" class="article-date">
  	<time datetime="2015-04-06T17:55:26.000Z" itemprop="datePublished">2015-04-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/07/使用MacVim代替系统内置Vim/">使用MacVim代替系统内置Vim</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在配置Rails的Vim环境的时候，发现OS X内置的Vim版本是7.3，YouCompleteMe插件提示需要Vim7.4，于是很自然地Google一下，得到的答案是，大多数人的建议是保留内置的Vim，另外安装7.4的在机器上(我也十分认同，毕竟任何对build in内容的修改可能会导致不可修复的问题，或者在系统更新的时候把自己的配置覆盖掉)。于是MacVim就成了最好的选择。</p>
<p><a href="https://code.google.com/p/macvim/" target="_blank" rel="external">MacVim介绍与下载</a></p>
<p>下载后把MacVim.app文件复制到Applications目录下，在LaunchPad里就能直接启动MacVim了，但是到这里跟预期还是有所出入，在终端内启动Vim，还是内置的Vim，对于常用终端的人来说，使用MacVim需要另外多开一个窗口，显得十分不便。当然，解决方法自然是有的，想要在终端里用MacVim代替内置的Vim，要在.profile里设置别名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> vim=<span class="string">'/Applications/MacVim.app/Contents/MacOS/Vim'</span></span><br></pre></td></tr></table></figure>
<p>保存后记得执行一下<code>source .profile</code>使修改生效。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Android-Toolbar使用注意事项" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/30/Android-Toolbar使用注意事项/" class="article-date">
  	<time datetime="2015-03-30T09:49:47.000Z" itemprop="datePublished">2015-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/30/Android-Toolbar使用注意事项/">Android Toolbar使用注意事项</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>赶在了愚人节前完成了自己的第一篇关于编程的blog，似乎…也没什么特别的…<br /><br>只是希望在这之后，能克服自己的惰性，完成下个目标吧。</p>
<p>最近在新项目中要求设计师参考Material Design来设计新的UI, 于是在开发过程中用上了不少Android 5.0的新特性，实际用起来也是挺爽的，甚至让我有重回Android怀抱的冲动。同时因为对5.0的API还不熟悉，想着或许写作技术总结的文章会对加深理解和纠正错误有所帮助，所以便有了这个。<br /></p>
<h5 id="这篇是总结Toolbar的用法。">这篇是总结Toolbar的用法。</h5><p>因为项目要兼容到Android4.0, 所以使用support v7的兼容包进行开发，IDE用的是Android Studio, 使用gradle构建项目。<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/03/30/Android-Toolbar使用注意事项/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Happy-Chinese-new-year" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/02/18/Happy-Chinese-new-year/" class="article-date">
  	<time datetime="2015-02-18T12:05:36.000Z" itemprop="datePublished">2015-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/18/Happy-Chinese-new-year/">Happy Chinese new year!</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>羊年进步！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 lizhijiang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>